{% extends 'base_stats.html' %}
{% block content %}
    <div id="page-wrapper" xmlns:http="http://www.w3.org/1999/xhtml">
        <div class="header">
            <h1 class="page-header">
                系统性能
                <small>欢迎查看</small>
            </h1>
            <ol class="breadcrumb">
                <li><a href="/serverstatus/">主页</a></li>
                <li><a href="/serverstatus/">系统性能</a></li>
                <li class="active">详情</li>
            </ol>
            <div class="panel panel-primary">
                <div class="panel-heading">系统负载状态</div>
                <div class="row">
                    <div id="main" class="col-lg-5 col-sm-5" style="width: 500px;height:400px;">
                    </div>
                    <div id="main1" class="col-lg-5 col-sm-5" style="width: 500px;height:400px;">
                    </div>
                    <div id="main2" class="col-lg-5 col-sm-5" style="width: 500px;height:400px;">
                    </div>
                </div>
                <div class="row">
                    <div id="main3" class="col-lg-5 col-sm-5" style="width: 500px;height:400px;">
                    </div>
                    <div id="main4" class="col-lg-5 col-sm-5" style="width: 500px;height:400px;">
                    </div>
                    <div id="main5" class="col-lg-5 col-sm-5" style="width: 500px;height:400px;">
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}
{% block script %}
    <script type="text/javascript">
        // 基于准备好的dom，初始化echarts实例
        var myChart = echarts.init(document.getElementById('main'));
        var myChart1 = echarts.init(document.getElementById('main1'));
        var myChart2 = echarts.init(document.getElementById('main2'));
        var myChart3 = echarts.init(document.getElementById('main3'));
        var myChart4 = echarts.init(document.getElementById('main4'));
        var myChart5 = echarts.init(document.getElementById('main5'));
        option = {
            title: [{
                text: '',
                left: '30%'
            },
                {
                    text: '192.168.10.24',
                    textStyle: {
                        fontSize: 14
                    },
                    left: '30%',
                    top: '80%'
                }
            ],
            tooltip: {
                formatter: "{a} <br/>{b} : {c}%"
            },
            axisLine: {            // 坐标轴线
                lineStyle: {       // 属性lineStyle控制线条样式
                    width: 8
                }
            },
            series: [
                {
                    name: '内存',
                    type: 'gauge',
                    center: ['20%', '55%'],    // 默认全局居中
                    radius: '35%',
                    min: 0,
                    max: 8,
                    endAngle: 45,
                    splitNumber: 8,
                    axisLine: {            // 坐标轴线
                        lineStyle: {       // 属性lineStyle控制线条样式
                            width: 8
                        }
                    },
                    axisTick: {            // 坐标轴小标记
                        length: 12,        // 属性length控制线长
                        lineStyle: {       // 属性lineStyle控制线条样式
                            color: 'auto'
                        }
                    },
                    splitLine: {           // 分隔线
                        length: 20,         // 属性length控制线长
                        lineStyle: {       // 属性lineStyle（详见lineStyle）控制线条样式
                            color: 'auto'
                        }
                    },
                    pointer: {
                        width: 5
                    },
                    title: {
                        offsetCenter: [0, '-20%']       // x, y，单位px
                    },
                    detail: {
                        textStyle: {       // 其余属性默认使用全局文本样式，详见TEXTSTYLE
                            fontWeight: 'bolder'
                        }
                    },
                    data: [{value: 6.3, name: '内存/GB'}]
                },
                {
                    name: '负载状态',
                    type: 'gauge',
                    radius: '55%',
                    detail: {formatter: '{value}%'},
                    data: [{value: 50, name: 'CPU使用率'}]
                }
            ]
        };
        option1 = {
            title: [{
                text: '',
                left: '30%'
            },
                {
                    text: '192.168.10.25',
                    textStyle: {
                        fontSize: 14
                    },
                    left: '30%',
                    top: '80%'
                }
            ],
            tooltip: {
                formatter: "{a} <br/>{b} : {c}%"
            },
            axisLine: {            // 坐标轴线
                lineStyle: {       // 属性lineStyle控制线条样式
                    width: 8
                }
            },
            series: [
                {
                    name: '内存',
                    type: 'gauge',
                    center: ['20%', '55%'],    // 默认全局居中
                    radius: '35%',
                    min: 0,
                    max: 8,
                    endAngle: 45,
                    splitNumber: 8,
                    axisLine: {            // 坐标轴线
                        lineStyle: {       // 属性lineStyle控制线条样式
                            width: 8
                        }
                    },
                    axisTick: {            // 坐标轴小标记
                        length: 12,        // 属性length控制线长
                        lineStyle: {       // 属性lineStyle控制线条样式
                            color: 'auto'
                        }
                    },
                    splitLine: {           // 分隔线
                        length: 20,         // 属性length控制线长
                        lineStyle: {       // 属性lineStyle（详见lineStyle）控制线条样式
                            color: 'auto'
                        }
                    },
                    pointer: {
                        width: 5
                    },
                    title: {
                        offsetCenter: [0, '-20%']       // x, y，单位px
                    },
                    detail: {
                        textStyle: {       // 其余属性默认使用全局文本样式，详见TEXTSTYLE
                            fontWeight: 'bolder'
                        }
                    },
                    data: [{value: 6.3, name: '内存/GB'}]
                },
                {
                    name: '负载状态',
                    type: 'gauge',
                    radius: '55%',
                    detail: {formatter: '{value}%'},
                    data: [{value: 50, name: 'CPU使用率'}]
                }
            ]
        };
        option2 = {
            title: [{
                text: '',
                left: '30%'
            },
                {
                    text: '192.168.10.26',
                    textStyle: {
                        fontSize: 14
                    },
                    left: '30%',
                    top: '80%'
                }
            ],
            tooltip: {
                formatter: "{a} <br/>{b} : {c}%"
            },
            axisLine: {            // 坐标轴线
                lineStyle: {       // 属性lineStyle控制线条样式
                    width: 8
                }
            },
            series: [
                {
                    name: '内存',
                    type: 'gauge',
                    center: ['20%', '55%'],    // 默认全局居中
                    radius: '35%',
                    min: 0,
                    max: 8,
                    endAngle: 45,
                    splitNumber: 8,
                    axisLine: {            // 坐标轴线
                        lineStyle: {       // 属性lineStyle控制线条样式
                            width: 8
                        }
                    },
                    axisTick: {            // 坐标轴小标记
                        length: 12,        // 属性length控制线长
                        lineStyle: {       // 属性lineStyle控制线条样式
                            color: 'auto'
                        }
                    },
                    splitLine: {           // 分隔线
                        length: 20,         // 属性length控制线长
                        lineStyle: {       // 属性lineStyle（详见lineStyle）控制线条样式
                            color: 'auto'
                        }
                    },
                    pointer: {
                        width: 5
                    },
                    title: {
                        offsetCenter: [0, '-20%']       // x, y，单位px
                    },
                    detail: {
                        textStyle: {       // 其余属性默认使用全局文本样式，详见TEXTSTYLE
                            fontWeight: 'bolder'
                        }
                    },
                    data: [{value: 6.3, name: '内存/GB'}]
                },
                {
                    name: '负载状态',
                    type: 'gauge',
                    radius: '55%',
                    detail: {formatter: '{value}%'},
                    data: [{value: 50, name: 'CPU使用率'}]
                }
            ]
        };
        option3 = {
            title: [{
                text: '',
                left: '30%'
            },
                {
                    text: '192.168.10.27',
                    textStyle: {
                        fontSize: 14
                    },
                    left: '30%',
                    top: '80%'
                }
            ],
            tooltip: {
                formatter: "{a} <br/>{b} : {c}%"
            },
            axisLine: {            // 坐标轴线
                lineStyle: {       // 属性lineStyle控制线条样式
                    width: 8
                }
            },
            series: [
                {
                    name: '内存',
                    type: 'gauge',
                    center: ['20%', '55%'],    // 默认全局居中
                    radius: '35%',
                    min: 0,
                    max: 8,
                    endAngle: 45,
                    splitNumber: 8,
                    axisLine: {            // 坐标轴线
                        lineStyle: {       // 属性lineStyle控制线条样式
                            width: 8
                        }
                    },
                    axisTick: {            // 坐标轴小标记
                        length: 12,        // 属性length控制线长
                        lineStyle: {       // 属性lineStyle控制线条样式
                            color: 'auto'
                        }
                    },
                    splitLine: {           // 分隔线
                        length: 20,         // 属性length控制线长
                        lineStyle: {       // 属性lineStyle（详见lineStyle）控制线条样式
                            color: 'auto'
                        }
                    },
                    pointer: {
                        width: 5
                    },
                    title: {
                        offsetCenter: [0, '-20%']       // x, y，单位px
                    },
                    detail: {
                        textStyle: {       // 其余属性默认使用全局文本样式，详见TEXTSTYLE
                            fontWeight: 'bolder'
                        }
                    },
                    data: [{value: 6.3, name: '内存/GB'}]
                },
                {
                    name: '负载状态',
                    type: 'gauge',
                    radius: '55%',
                    detail: {formatter: '{value}%'},
                    data: [{value: 50, name: 'CPU使用率'}]
                }
            ]
        };
        option4 = {
            title: [{
                text: '',
                left: '30%'
            },
                {
                    text: '192.168.10.28',
                    textStyle: {
                        fontSize: 14
                    },
                    left: '30%',
                    top: '80%'
                }
            ],
            tooltip: {
                formatter: "{a} <br/>{b} : {c}%"
            },
            axisLine: {            // 坐标轴线
                lineStyle: {       // 属性lineStyle控制线条样式
                    width: 8
                }
            },
            series: [
                {
                    name: '内存',
                    type: 'gauge',
                    center: ['20%', '55%'],    // 默认全局居中
                    radius: '35%',
                    min: 0,
                    max: 8,
                    endAngle: 45,
                    splitNumber: 8,
                    axisLine: {            // 坐标轴线
                        lineStyle: {       // 属性lineStyle控制线条样式
                            width: 8
                        }
                    },
                    axisTick: {            // 坐标轴小标记
                        length: 12,        // 属性length控制线长
                        lineStyle: {       // 属性lineStyle控制线条样式
                            color: 'auto'
                        }
                    },
                    splitLine: {           // 分隔线
                        length: 20,         // 属性length控制线长
                        lineStyle: {       // 属性lineStyle（详见lineStyle）控制线条样式
                            color: 'auto'
                        }
                    },
                    pointer: {
                        width: 5
                    },
                    title: {
                        offsetCenter: [0, '-20%']       // x, y，单位px
                    },
                    detail: {
                        textStyle: {       // 其余属性默认使用全局文本样式，详见TEXTSTYLE
                            fontWeight: 'bolder'
                        }
                    },
                    data: [{value: 6.3, name: '内存/GB'}]
                },
                {
                    name: '负载状态',
                    type: 'gauge',
                    radius: '55%',
                    detail: {formatter: '{value}%'},
                    data: [{value: 50, name: 'CPU使用率'}]
                }
            ]
        };
        option5 = {
            title: [{
                text: '',
                left: '30%'
            },
                {
                    text: '192.168.10.29',
                    textStyle: {
                        fontSize: 14
                    },
                    left: '30%',
                    top: '80%'
                }
            ],
            tooltip: {
                formatter: "{a} <br/>{b} : {c}%"
            },
            axisLine: {            // 坐标轴线
                lineStyle: {       // 属性lineStyle控制线条样式
                    width: 8
                }
            },
            series: [
                {
                    name: '内存',
                    type: 'gauge',
                    center: ['20%', '55%'],    // 默认全局居中
                    radius: '35%',
                    min: 0,
                    max: 8,
                    endAngle: 45,
                    splitNumber: 8,
                    axisLine: {            // 坐标轴线
                        lineStyle: {       // 属性lineStyle控制线条样式
                            width: 8
                        }
                    },
                    axisTick: {            // 坐标轴小标记
                        length: 12,        // 属性length控制线长
                        lineStyle: {       // 属性lineStyle控制线条样式
                            color: 'auto'
                        }
                    },
                    splitLine: {           // 分隔线
                        length: 20,         // 属性length控制线长
                        lineStyle: {       // 属性lineStyle（详见lineStyle）控制线条样式
                            color: 'auto'
                        }
                    },
                    pointer: {
                        width: 5
                    },
                    title: {
                        offsetCenter: [0, '-20%']       // x, y，单位px
                    },
                    detail: {
                        textStyle: {       // 其余属性默认使用全局文本样式，详见TEXTSTYLE
                            fontWeight: 'bolder'
                        }
                    },
                    data: [{value: 6.3, name: '内存/GB'}]
                },
                {
                    name: '负载状态',
                    type: 'gauge',
                    radius: '55%',
                    detail: {formatter: '{value}%'},
                    data: [{value: 50, name: 'CPU使用率'}]
                }
            ]
        };
        setInterval(function () {
            option.series[0].data[0].value = (Math.random() * 2 + 6).toFixed(2) - 0;
            option.series[1].data[0].value = Math.floor(Math.random() * 40) + 50;
            option1.series[0].data[0].value = (Math.random() * 1 + 6).toFixed(2) - 0;
            option1.series[1].data[0].value = Math.floor(Math.random() * 30) + 50;
            option2.series[0].data[0].value = (Math.random() * 2 + 5).toFixed(2) - 0;
            option2.series[1].data[0].value = Math.floor(Math.random() * 30) + 50;
            option3.series[0].data[0].value = (Math.random() * 2 + 6).toFixed(2) - 0;
            option3.series[1].data[0].value = Math.floor(Math.random() * 40) + 50;
            option4.series[0].data[0].value = (Math.random() * 1 + 6).toFixed(2) - 0;
            option4.series[1].data[0].value = Math.floor(Math.random() * 30) + 50;
            option5.series[0].data[0].value = (Math.random() * 2 + 5).toFixed(2) - 0;
            option5.series[1].data[0].value = Math.floor(Math.random() * 30) + 50;
            myChart.setOption(option);
            myChart1.setOption(option1);
            myChart2.setOption(option2);
            myChart3.setOption(option3);
            myChart4.setOption(option4);
            myChart5.setOption(option5);
        }, 1000);
    </script>
{% endblock %}