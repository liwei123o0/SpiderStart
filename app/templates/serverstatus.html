{% extends 'base_stats.html' %}
{% block content %}
    <div id="page-wrapper" xmlns:http="http://www.w3.org/1999/xhtml">
        <div class="header">
            <h1 class="page-header">
                系统性能
                <small>欢迎查看</small>
            </h1>
            <ol class="breadcrumb">
                <li><a href="/serverstatus/">主页</a></li>
                <li><a href="/serverstatus/">系统性能</a></li>
                <li class="active">详情</li>
            </ol>
            <div id="main" style="width: 600px;height:400px;">
            </div>
        </div>
    </div>
{% endblock %}
{% block script %}
    <script type="text/javascript">
        // 基于准备好的dom，初始化echarts实例
        var myChart = echarts.init(document.getElementById('main'));
        option = {
            title: {
                text: '分布式CPU负载状态'
            },
            tooltip: {
                formatter: "{a} <br/>{b} : {c}%"
            },
            axisLine: {            // 坐标轴线
                        lineStyle: {       // 属性lineStyle控制线条样式
                            width: 8
                        }
                    },
            series: [
                {
                    name: '负载状态',
                    type: 'gauge',
                    detail: {formatter: '{value}%'},
                    data: [{value: 50, name: 'CPU使用率'}]
                },
                {
                    name: '内存',
                    type: 'gauge',
                    center: ['20%', '55%'],    // 默认全局居中
                    radius: '55%',
                    min: 0,
                    max: 7,
                    endAngle: 45,
                    splitNumber: 7,
                    axisLine: {            // 坐标轴线
                        lineStyle: {       // 属性lineStyle控制线条样式
                            width: 8
                        }
                    },
                    axisTick: {            // 坐标轴小标记
                        length: 12,        // 属性length控制线长
                        lineStyle: {       // 属性lineStyle控制线条样式
                            color: 'auto'
                        }
                    },
                    splitLine: {           // 分隔线
                        length: 20,         // 属性length控制线长
                        lineStyle: {       // 属性lineStyle（详见lineStyle）控制线条样式
                            color: 'auto'
                        }
                    },
                    pointer: {
                        width: 5
                    },
                    title: {
                        offsetCenter: [0, '-30%'],       // x, y，单位px
                    },
                    detail: {
                        textStyle: {       // 其余属性默认使用全局文本样式，详见TEXTSTYLE
                            fontWeight: 'bolder'
                        }
                    },
                    data: [{value: 1.5, name: 'x1000 r/min'}]
                }
            ]
        };
        setInterval(function () {
            option.series[0].data[0].value = Math.floor(Math.random() * 30) + 50;
            myChart.setOption(option);
        }, 1000);
    </script>
{% endblock %}